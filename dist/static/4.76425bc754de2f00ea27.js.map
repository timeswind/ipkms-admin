{"version":3,"sources":["webpack:///4.76425bc754de2f00ea27.js","webpack:///Student-account.vue","webpack:///./src/components/Student-account.vue?be5f","webpack:///./src/components/Student-account.vue?62c0","webpack:///./src/components/Student-account.vue?3d9e","webpack:///./src/components/Student-account.vue"],"names":["webpackJsonp","8","module","exports","Object","defineProperty","value","data","query","name","schoolId","results","methods","queryStudents","this","apiUrl","$http","get","then","response","console","log","deleteStudent","index","student_id","window","confirm","splice","showToast","message","$dispatch","18","__webpack_require__","push","id","version","sources","names","mappings","file","sourcesContent","sourceRoot","27","content","locals","39","49","__vue_script__","__vue_template__","__vue_styles__","__esModule","__vue_options__","options","template","computed","keys","forEach","key"],"mappings":"AAAAA,cAAc,IAERC,EACA,SAASC,EAAQC,GAEtB,YAEAC,QAAOC,eAAeF,EAAS,cAC7BG,OAAO,IAETH,cACEI,KAAM,WACJ,OACEC,OACEC,KC6BT,GD5BSC,SC8BT,MD5BOC,SACEH,OACEC,KC6BX,GD5BWC,SC8BX,MD5BSH,WAKNK,SACEC,cAAe,WACb,GAAIC,KAAKN,MAAMC,MAAQK,KAAKN,MAAME,SC4BzC,CD3BS,GAAIK,GAAS,qCAAuCD,KAAKN,MAAMC,KAAO,aAAeK,KAAKN,MC4BnGE,QD3BSI,MAAKE,MAAMC,IAAIF,GAAQG,KAAK,SAAUC,GACpCL,KAAKH,QAAQJ,KAAOY,EC4B/BZ,KD3BeO,KAAKN,MAAMC,KACbK,KAAKH,QAAQH,MAAMC,KAAOK,KAAKN,MC4B5CC,KD1BaK,KAAKH,QAAQH,MAAMC,KC4BhC,KD1BeK,KAAKN,MAAME,SACbI,KAAKH,QAAQH,MAAME,SAAWI,KAAKN,MC4BhDE,SD1BaI,KAAKH,QAAQH,MAAME,SC4BhC,MD1BY,SAAUS,GACXC,QAAQC,IC4BnBF,ODxBKG,cAAe,SAAuBC,EAAOC,EAAYf,GAEvD,GADAW,QAAQC,IC4Bf,qBD3BWI,OAAOC,QAAQ,QAAUjB,EAAO,YC4B3C,CD3BS,GAAIF,IACFiB,WC6BXA,ED3BSV,MAAKE,MAALF,UAAkB,+BAAgCP,GAAMW,KAAK,SAAUC,GACrEL,KAAKH,QAAQJ,KAAKoB,OAAOJ,EC4BpC,GD3BWT,KAAKc,UC4BhB,SD3BY,SAAUT,GACXL,KAAKc,UAAU,WAAaT,EC4BvCZ,UDxBKqB,UAAW,SAAmBC,GAC5Bf,KAAKgB,UAAU,aC4BtBD,ODrBME,GACA,SAAS7B,EAAQC,EAAS6B,GEvEhC7B,EAAAD,EAAAC,QAAA6B,EAAA,KAKA7B,EAAA8B,MAAA/B,EAAAgC,GAAA,2DAAkF,IAAQC,QAAA,EAAAC,SAAA,yCAAAC,SAAAC,SAAA,8CAAAC,KAAA,sBAAAC,gBAAA,sRAAkcC,WAAA,iBFgFthBC,GACA,SAASxC,EAAQC,EAAS6B,GGnFhC,GAAAW,GAAAX,EAAA,GACA,iBAAAW,SAAAzC,EAAAgC,GAAAS,EAAA,KAEAX,GAAA,GAAAW,KACAA,GAAAC,SAAA1C,EAAAC,QAAAwC,EAAAC,SHyGMC,GACA,SAAS3C,EAAQC,GIjHvBD,EAAAC,QAAA,q1CJuHM2C,GACA,SAAS5C,EAAQC,EAAS6B,GKxHhC,GAAAe,GAAAC,EACAC,IACAjB,GAAA,IACAe,EAAAf,EAAA,GACAgB,EAAAhB,EAAA,IACA9B,EAAAC,QAAA4C,MACA7C,EAAAC,QAAA+C,aAAAhD,EAAAC,QAAAD,EAAAC,QAAAD,WACA,IAAAiD,GAAA,kBAAAjD,GAAAC,QAAAD,EAAAC,QAAAiD,UAAAlD,EAAAC,QAAAiD,YAAoHlD,EAAAC,OACpH6C,KACAG,EAAAE,SAAAL,GAEAG,EAAAG,WAAAH,EAAAG,aACAlD,OAAAmD,KAAAN,GAAAO,QAAA,SAAAC,GACA,GAAAvD,GAAA+C,EAAAQ,EACAN,GAAAG,SAAAG,GAAA,WAA6C,MAAAvD","file":"4.76425bc754de2f00ea27.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 8:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      query: {\n\t        name: '',\n\t        schoolId: null\n\t      },\n\t      results: {\n\t        query: {\n\t          name: '',\n\t          schoolId: null\n\t        },\n\t        data: {}\n\t      }\n\t    };\n\t  },\n\t\n\t  methods: {\n\t    queryStudents: function queryStudents() {\n\t      if (this.query.name || this.query.schoolId) {\n\t        var apiUrl = '/api/manage-account/students?name=' + this.query.name + '&schoolId=' + this.query.schoolId;\n\t        this.$http.get(apiUrl).then(function (response) {\n\t          this.results.data = response.data;\n\t          if (this.query.name) {\n\t            this.results.query.name = this.query.name;\n\t          } else {\n\t            this.results.query.name = null;\n\t          }\n\t          if (this.query.schoolId) {\n\t            this.results.query.schoolId = this.query.schoolId;\n\t          } else {\n\t            this.results.query.schoolId = null;\n\t          }\n\t        }, function (response) {\n\t          console.log(response);\n\t        });\n\t      }\n\t    },\n\t    deleteStudent: function deleteStudent(index, student_id, name) {\n\t      console.log('prepare to delete');\n\t      if (window.confirm('確定刪除 ' + name + ' 這個學生賬號?')) {\n\t        var data = {\n\t          student_id: student_id\n\t        };\n\t        this.$http.delete('/api/manage-account/students', data).then(function (response) {\n\t          this.results.data.splice(index, 1);\n\t          this.showToast('删除成功');\n\t        }, function (response) {\n\t          this.showToast('！＃删除失败＃!' + response.data);\n\t        });\n\t      }\n\t    },\n\t    showToast: function showToast(message) {\n\t      this.$dispatch('show-toast', message);\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 18:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(1)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \"#student-account{margin-top:16px}.pure-table{width:100%}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/Student-account.vue\"],\"names\":[],\"mappings\":\"AAiGA,iBACE,eAAgB,CACjB,AAED,YACE,UAAW,CACZ\",\"file\":\"Student-account.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n#student-account {\\n  margin-top: 16px\\n}\\n\\n.pure-table {\\n  width: 100%\\n}\\n\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 27:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(18);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(2)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Student-account.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Student-account.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 39:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=student-account> <div class=pure-form> <fieldset> <input class=pure-input-rounded type=text placeholder=姓名 v-model=query.name> <input class=pure-input-rounded type=number placeholder=學號 v-model=query.schoolId> <button class=\\\"pure-button pure-button-primary\\\" @click=queryStudents()>查詢</button> </fieldset> </div> <p v-show=results.data[0] style=color:#aaa>以下是有關 <i v-show=results.query.name style=\\\"color: #FF9800\\\">姓名: {{results.query.name}} </i><i v-show=results.query.schoolId style=\\\"color: #FF9800\\\">學號: {{results.query.schoolId}} </i> 的搜索結果</p> <table class=\\\"pure-table pure-table-bordered\\\" style=\\\"background-color: #fff\\\"> <thead> <tr> <th>#</th> <th>姓名</th> <th>學號</th> <th>操作</th> </tr> </thead> <tbody> <tr v-for=\\\"student in results.data\\\" track-by=_id> <td style=\\\"width: 1%;white-space:nowrap\\\">{{$index + 1}}</td> <td style=\\\"width: 1%;white-space:nowrap\\\">{{student.name}}</td> <td>{{student.schoolId}}</td> <td style=\\\"width: 1%;white-space:nowrap\\\"> <button class=pure-button v-link=\\\"{name:'student-detail', params: {student_id: student._id}}\\\">查看</button> <button class=\\\"button-secondary pure-button\\\" v-link=\\\"{name:'reset-password', params: { role: 'student', id: student._id}}\\\">重置密碼</button> <button class=\\\"button-warning pure-button\\\" @click=\\\"deleteStudent($index, student._id, student.name)\\\">刪除</button> </td> </tr> </tbody> </table> </div> \";\n\n/***/ },\n\n/***/ 49:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__webpack_require__(27)\n\t__vue_script__ = __webpack_require__(8)\n\t__vue_template__ = __webpack_require__(39)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 4.76425bc754de2f00ea27.js\n **/","<template>\n  <div id=\"student-account\">\n    <div class=\"pure-form\">\n      <fieldset>\n        <input class=\"pure-input-rounded\" type=\"text\" placeholder=\"姓名\" v-model=\"query.name\">\n        <input class=\"pure-input-rounded\" type=\"number\" placeholder=\"學號\" v-model=\"query.schoolId\">\n\n        <button class=\"pure-button pure-button-primary\" @click=\"queryStudents()\">查詢</button>\n      </fieldset>\n    </div>\n    <p v-show=\"results.data[0]\" style=\"color:#aaa\">以下是有關 <i v-show=\"results.query.name\" style=\"color: #FF9800\">姓名: {{results.query.name}} </i><i v-show=\"results.query.schoolId\" style=\"color: #FF9800\">學號: {{results.query.schoolId}} </i> 的搜索結果</p>\n    <table class=\"pure-table pure-table-bordered\" style=\"background-color: #fff\">\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>姓名</th>\n          <th>學號</th>\n          <th>操作</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr v-for=\"student in results.data\" track-by=\"_id\">\n          <td style=\"width: 1%;white-space:nowrap\">{{$index + 1}}</td>\n          <td style=\"width: 1%;white-space:nowrap\">{{student.name}}</td>\n          <td>{{student.schoolId}}</td>\n          <td style=\"width: 1%;white-space:nowrap\">\n            <button class=\"pure-button\" v-link=\"{name:'student-detail', params: {student_id: student._id}}\">查看</button>\n            <button class=\"button-secondary pure-button\" v-link=\"{name:'reset-password', params: { role: 'student', id: student._id}}\">重置密碼</button>\n            <button class=\"button-warning pure-button\" @click=\"deleteStudent($index, student._id, student.name)\">刪除</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      query: {\n        name: '',\n        schoolId: null\n      },\n      results: {\n        query: {\n          name: '',\n          schoolId: null\n        },\n        data: {}\n      }\n    }\n  },\n  methods: {\n    queryStudents: function () {\n      if (this.query.name || this.query.schoolId) {\n        let apiUrl = '/api/manage-account/students?name=' + this.query.name + '&schoolId=' + this.query.schoolId\n        this.$http.get(apiUrl).then(function (response) {\n          this.results.data = response.data\n          if (this.query.name) {\n            this.results.query.name = this.query.name\n          } else {\n            this.results.query.name = null\n          }\n          if (this.query.schoolId) {\n            this.results.query.schoolId = this.query.schoolId\n          } else {\n            this.results.query.schoolId = null\n          }\n        }, function (response) {\n          console.log(response)\n        })\n      }\n    },\n    deleteStudent: function (index, student_id, name) {\n      console.log('prepare to delete')\n      if (window.confirm('確定刪除 ' + name + ' 這個學生賬號?')) {\n        let data = {\n          student_id: student_id\n        }\n        this.$http.delete('/api/manage-account/students', data).then(function (response) {\n          this.results.data.splice(index, 1)\n          this.showToast('删除成功')\n        }, function (response) {\n          this.showToast('！＃删除失败＃!' + response.data)\n        })\n      }\n    },\n    showToast: function (message) {\n      this.$dispatch('show-toast', message)\n    }\n  }\n}\n</script>\n\n<style>\n#student-account {\n  margin-top: 16px\n}\n\n.pure-table {\n  width: 100%\n}\n\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** Student-account.vue?6f479bd4\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#student-account{margin-top:16px}.pure-table{width:100%}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/Student-account.vue\"],\"names\":[],\"mappings\":\"AAiGA,iBACE,eAAgB,CACjB,AAED,YACE,UAAW,CACZ\",\"file\":\"Student-account.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n#student-account {\\n  margin-top: 16px\\n}\\n\\n.pure-table {\\n  width: 100%\\n}\\n\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/Student-account.vue\n ** module id = 18\n ** module chunks = 4\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Student-account.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Student-account.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Student-account.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js!./~/vue-loader/lib/selector.js?type=style&index=0!./src/components/Student-account.vue\n ** module id = 27\n ** module chunks = 4\n **/","module.exports = \" <div id=student-account> <div class=pure-form> <fieldset> <input class=pure-input-rounded type=text placeholder=姓名 v-model=query.name> <input class=pure-input-rounded type=number placeholder=學號 v-model=query.schoolId> <button class=\\\"pure-button pure-button-primary\\\" @click=queryStudents()>查詢</button> </fieldset> </div> <p v-show=results.data[0] style=color:#aaa>以下是有關 <i v-show=results.query.name style=\\\"color: #FF9800\\\">姓名: {{results.query.name}} </i><i v-show=results.query.schoolId style=\\\"color: #FF9800\\\">學號: {{results.query.schoolId}} </i> 的搜索結果</p> <table class=\\\"pure-table pure-table-bordered\\\" style=\\\"background-color: #fff\\\"> <thead> <tr> <th>#</th> <th>姓名</th> <th>學號</th> <th>操作</th> </tr> </thead> <tbody> <tr v-for=\\\"student in results.data\\\" track-by=_id> <td style=\\\"width: 1%;white-space:nowrap\\\">{{$index + 1}}</td> <td style=\\\"width: 1%;white-space:nowrap\\\">{{student.name}}</td> <td>{{student.schoolId}}</td> <td style=\\\"width: 1%;white-space:nowrap\\\"> <button class=pure-button v-link=\\\"{name:'student-detail', params: {student_id: student._id}}\\\">查看</button> <button class=\\\"button-secondary pure-button\\\" v-link=\\\"{name:'reset-password', params: { role: 'student', id: student._id}}\\\">重置密碼</button> <button class=\\\"button-warning pure-button\\\" @click=\\\"deleteStudent($index, student._id, student.name)\\\">刪除</button> </td> </tr> </tbody> </table> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Student-account.vue\n ** module id = 39\n ** module chunks = 4\n **/","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./Student-account.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./Student-account.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./Student-account.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/Student-account.vue\n ** module id = 49\n ** module chunks = 4\n **/"],"sourceRoot":""}