webpackJsonp([3],{9:function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={attached:function(){var t=this.$route.params.student_id;this.getStudentDetail(t)},data:function(){return{results:{data:{}},update:{data:{name:null,schoolId:null,grade:null,theclass:null}},editMode:!1}},methods:{getStudentDetail:function(t){if(t){var n="/api/manage-account/students/"+t;this.$http.get(n).then(function(t){this.results.data=t.data},function(t){this.showToast("遇到錯誤: "+t.data)})}},updateStudent:function(){var t=this.$route.params.student_id;if(t&&this.updateDataDifference){var n={student_id:t,name:this.update.data.name,schoolId:this.update.data.schoolId,grade:this.update.data.grade,"class":this.update.data.theclass},e="/api/manage-account/students/"+t;this.$http.put(e,n).then(function(t){this.editMode=!1,this.results.data=t.data,this.showToast("更新成功")},function(t){this.showToast("遇到錯誤: "+t.data)})}else this.editMode=!1},startEdit:function(){this.update.data.name=this.results.data.name,this.update.data.schoolId=this.results.data.schoolId,this.update.data.grade=this.results.data.grade,this.update.data.theclass=this.results.data["class"],this.editMode=!0},showToast:function(t){this.$dispatch("show-toast",t)}},computed:{updateDataDifference:function(){return this.results.data.name!==this.update.data.name||this.results.data.schoolId!==this.update.data.schoolId||this.results.data["class"]!==this.update.data.theclass||this.results.data.grade!==this.update.data.grade}}}},19:function(t,n,e){n=t.exports=e(1)(),n.push([t.id,"#student-detail{margin-top:16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.student-detail-card{background:#fff;margin:0 auto;min-width:300px;padding:16px 32px;box-shadow:0 1px 3px #aaa}.student-detail-card .column{margin-bottom:16px;font-size:20px}.student-detail-card .column>.label{font-size:14px;margin-bottom:4px;color:#9e9e9e}","",{version:3,sources:["/./src/components/Student-detail.vue"],names:[],mappings:"AAiIA,gBACE,gBAAiB,AACjB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,qBAAuB,CAChC,AAED,qBACE,gBAAiB,AACjB,cAAe,AACf,gBAAiB,AACjB,kBAAmB,AACnB,yBAA0B,CAC3B,AAED,6BACE,mBAAoB,AACpB,cAAe,CAChB,AAED,oCACE,eAAgB,AAChB,kBAAmB,AACnB,aAAc,CACf",file:"Student-detail.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#student-detail {\n  margin-top: 16px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n\n.student-detail-card {\n  background: #fff;\n  margin: 0 auto;\n  min-width: 300px;\n  padding: 16px 32px;\n  box-shadow: 0 1px 3px #aaa\n}\n\n.student-detail-card .column {\n  margin-bottom: 16px;\n  font-size: 20px\n}\n\n.student-detail-card .column>.label {\n  font-size: 14px;\n  margin-bottom: 4px;\n  color: #9e9e9e\n}\n"],sourceRoot:"webpack://"}])},28:function(t,n,e){var a=e(19);"string"==typeof a&&(a=[[t.id,a,""]]);e(2)(a,{});a.locals&&(t.exports=a.locals)},40:function(t,n){t.exports=' <div id=student-detail> <div class=student-detail-card> <div class=pure-form> <fieldset> <div class=column style="display:flex; flex-direction: column"> <span class=label>姓名</span><span v-show=!editMode> {{results.data.name}}</span> <input class=pure-input type=text placeholder=姓名 v-model=update.data.name v-show=editMode> </div> <div class=column style="display:flex; flex-direction: column"> <span class=label>學號</span><span v-show=!editMode> {{results.data.schoolId}}</span> <input class=pure-input type=number placeholder=學號 v-model=update.data.schoolId v-show=editMode> </div> <div class=column style="display:flex; flex-direction: column"> <span class=label>班級</span><span v-show=!editMode> {{results.data.grade}}{{results.data.class}}</span> <div v-show=editMode> <div style="display:flex; flex-direction: row"> <div style=margin-right:16px> <select id=grade v-model=update.data.grade> <option value=1>中一</option> <option value=2>中二</option> <option value=3>中三</option> <option value=4>中四</option> <option value=5>中五</option> <option value=6>中六</option> </select> </div> <div> <select id=class v-model=update.data.theclass> <option>A</option> <option>B</option> <option>C</option> <option>D</option> </select> </div> </div> </div> </div> </fieldset></div> <div style="text-align: center"> <button class="pure-button pure-button-primary" style="width: 100%" @click=startEdit() v-show=!editMode>編輯基本信息</button> <button class="pure-button button-warning" style="width: 100%; margin-top:8px" v-show=!editMode v-link="{name:\'reset-password\', params: { role: \'student\', id: $route.params.student_id}}">重置密碼</button> <button class="pure-button button-secondary" style="width: 100%; margin-bottom: 8px" @click=updateStudent() v-show=editMode>更新</button> <button class=pure-button style="width: 100%" @click="editMode = false" v-show=editMode>取消</button> </div>  </div> </div> '},50:function(t,n,e){var a,s,o={};e(28),a=e(9),s=e(40),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports["default"]);var d="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;s&&(d.template=s),d.computed||(d.computed={}),Object.keys(o).forEach(function(t){var n=o[t];d.computed[t]=function(){return n}})}});
//# sourceMappingURL=3.5f00a9251fcfcd17a730.js.map